# 🌆 서울시 실시간 도시데이터 설정 방법

## 📋 개요
판매 대시보드에 서울시 실시간 도시데이터 API가 통합되었습니다.
실시간 인구 밀집도, 혼잡도 정보를 확인할 수 있습니다.

## 🔑 API 키 발급 받기

### 1단계: 서울시 열린데이터 광장 회원가입
1. [서울시 실시간 도시데이터](https://data.seoul.go.kr/SeoulRtd/list) 접속
2. 회원가입 진행 (기존 회원이라면 로그인)

### 2단계: API 키 신청
1. 상단 메뉴에서 **"실시간 인구 API 이용신청"** 또는 **"실시간 통합 API 이용신청"** 클릭
2. 신청서 작성 및 제출
3. 승인 후 API 키 발급 (보통 즉시 발급)

### 3단계: 마이페이지에서 API 키 확인
1. 로그인 후 마이페이지 접속
2. **"인증키 관리"** 메뉴에서 발급받은 API 키 확인

## ⚙️ 프로젝트 설정

### 1. 환경 변수 파일 생성
프로젝트 루트 디렉토리에 `.env.local` 파일 생성:

```bash
# .env.local 파일 내용
NEXT_PUBLIC_SEOUL_RTD_API_KEY=여기에_발급받은_API_키_입력

# API 엔드포인트 (기본값)
NEXT_PUBLIC_SEOUL_RTD_BASE_URL=http://openapi.seoul.go.kr:8088
```

### 2. 개발 서버 재시작
```bash
npm run dev
```

## 📊 사용 방법

1. 대시보드 접속
2. 상단 탭에서 **"🌆 서울 실시간"** 클릭
3. 실시간 데이터 확인:
   - 서울시 주요 지역별 혼잡도
   - 실시간 인구 밀집도
   - 지역별 현황 및 순위

## 🔄 데이터 업데이트

- **자동 새로고침**: 10분마다 자동으로 최신 데이터를 가져옵니다
- **수동 새로고침**: 우측 상단 "새로고침" 버튼 클릭

## 🚀 배포 시 주의사항

### Vercel 배포
1. Vercel 대시보드 → 프로젝트 선택
2. **Settings** → **Environment Variables** 클릭
3. 환경 변수 추가:
   - **Key**: `NEXT_PUBLIC_SEOUL_RTD_API_KEY`
   - **Value**: 발급받은 API 키
   - **Environment**: Production, Preview, Development 모두 선택
4. **Save** 후 재배포

## 📱 제공 데이터

### 실시간 혼잡도
- 여유 / 보통 / 약간 붐빔 / 붐빔 4단계
- 서울시 주요 50개 지역 실시간 모니터링

### 실시간 인구
- 지역별 최소/최대 인구 수
- 시간대별 인구 변화 추이

### 지역 정보
- 고궁·문화유산
- 공원
- 관광특구
- 발달상권
- 인구밀집지역

## 🔗 참고 링크

- [서울시 실시간 도시데이터](https://data.seoul.go.kr/SeoulRtd/list)
- [서울 열린데이터 광장](https://data.seoul.go.kr/)
- [API 문서 및 매뉴얼](https://data.seoul.go.kr/SeoulRtd/list) (데이터매뉴얼 다운로드)

## ❓ 문제 해결

### API 키 오류가 발생하는 경우
1. `.env.local` 파일이 프로젝트 루트에 있는지 확인
2. API 키가 정확히 입력되었는지 확인 (공백 없이)
3. 개발 서버를 재시작했는지 확인
4. API 키 승인 상태 확인 (마이페이지에서)

### 데이터가 표시되지 않는 경우
1. 브라우저 콘솔에서 에러 메시지 확인
2. API 호출 제한 확인 (일일 호출 한도)
3. 네트워크 연결 상태 확인

### 개발 환경에서만 작동하는 경우
1. Vercel 환경 변수 설정 확인
2. Production 환경에도 API 키가 등록되어 있는지 확인

## 💡 활용 아이디어

### 판매 데이터와 연계 분석
- 특정 지역 혼잡도와 해당 지역 매장 매출 비교
- 유동인구가 많은 시간대와 판매 피크 시간 분석
- 지역별 인구 밀집도와 매장 성과 상관관계 파악

### 매장 입지 분석
- 신규 매장 오픈 시 인구 밀집 지역 참고
- 계절별/시간대별 유동인구 패턴 분석
- 경쟁 상권 실시간 모니터링

## 📝 업데이트 내역

- **2025-01-20**: 서울시 실시간 도시데이터 API 통합
  - 실시간 혼잡도 대시보드 추가
  - 자동 새로고침 기능 구현
  - 지역별 상세 정보 표시

